# **웹소켓과 소켓 통신의 차이에 대해 설명해 주세요.**

> `웹소켓`은 브라우저나 웹 애플리케이션에서 실시간 양방향 통신을 가능하게 하는 HTTP기반의 프로토콜입니다.
`소켓`은 OS 수준에서 TCP/UDP를 통해 네트워크 통신을 할 수 있도록 해주는 저수준 인터페이스입니다.
`웹소켓`은 초기 연결시 HTTP 프로토콜을 이용해 핸드셰이킹을 하고, 연결 후에는 지속적으로 데이터를 주고 받을 수 있어 채팅, 주식, 게임 같은 실시간 웹 서비스에 적합합니다.
반면 `소켓`은 보다 범용적인 통신 구조로, 서버와 클라이언트 간 연결/송수신 제어를 직접 구현해야 하는 구조입니다.
> 

### 면접관이 물어볼 수 있는 추가질문:

- Q: 그러면 웹소켓은 브라우저에서만 동작하나요?
- A: 웹소켓은 JS에서 쉽게 쓸 수 있지만, 백엔드(Spring Boot 등)에서도 서버용 라이브러리를 통해 충분히 지원할 수 있습니다.

## 1. 소켓과 포트의 차이가 무엇인가요?

> `포트`는 IP 주소 안에서 응용 프로그램을 구분하기 위한 논리적 숫자입니다.
`소켓`은 네트워크 통신을 위해 사용되는 IP 주소 + 포트 번호 + 프로토콜을 조합한 구조입니다.

예를들어, 같은 서버에서 80번 포트는 웹서버, 3306번 포트는 DB 서버를 의미할 수 있습니다.
소켓은 이 포트와 IP를 기반으로 클라이언트와 서버 간 고유한 연결을 식별합니다.
> 

### 면접관이 물어볼 수 있는 추가질문:

- Q: 그럼 서버에서 여러 클라이언트가 접속할 때 포트는 어떻게 관리되나요?
- A: 서버는 하나의 포트를 열어두고, 클라이언트의 IP와 포트를 조합한 여러 소켓을 동시에 관리합니다.

## 2. 여러 소켓이 있다고 할 때, 그 소켓의 포트 번호는 모두 다른가요?

> 상황에 따라 다릅니다.
서버 측 소켓은 일반적으로 하나의 고정된 포트 번호만 사용합니다.
예를들어 웹 서버라면 80번이나 8080 포트를 열고 대기합니다.
하지만 여러 클라이언트가 동시에 접속해도, 서버는 그 하나의 포트로 여러 연결을 처리할 수 있습니다.
각각의 연결은 클라이언트 IP 주소와 포트 번호를 조합해서 식별되는 고유한 소켓으로 관리됩니다.
반대로 클라이언트는 서버에 접속할 때마다 임시 포트 번호를 자동으로 할당 받기 때문에
여러 소켓을 만들 경우 각각의 포트 번호가 다르게 지정되는 경우가 많습니다.

요약하자면, 소켓을 구분하는 기준은 `서버 IP : 포트` 와 `클라이언트 IP : 포트` 의 조합이며
반드시 모든 소켓의 포트가 다를 필요는 없지만 결합된 주소가 유일해야 연결이 충돌 없이 유지됩니다.
> 

## 3. 사용자의 요청이 무수히 많아지면, 소켓도 무수히 생성되나요?

> 네, TCP 기반 통신에서는 클라이언트와 서버가 연결을 맺을 때마다 별도의 소켓 인스턴스가 생성됩니다.
예를들어 10,000명의 사용자가 동시에 접속하면, 서버는 10,000개의 소켓을 만들어 각각의 연결을 관리해야 합니다.
그래서 일반적으로는 논블로킹 I/O, 스레트풀, 커넥션 풀링 같은 기술을 통해 성능을 최적화합니다.
> 

### 면접관이 물어볼 수 있는 추가질문:

- Q: 소켓 수가 많아질 때 서버 과부하를 줄이는 방법은?
- A: epoll 기반의 논블로킹 I/O 서버 설계나 WebSocket의 keep-alive 관리로 최적화할 수 있습니다.
