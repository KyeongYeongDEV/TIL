## **1. Thread Safeì˜ ì˜ë¯¸**

- **ì •ì˜**: ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ê°™ì€ ìžì›ì— ì ‘ê·¼í•˜ë”ë¼ë„ í”„ë¡œê·¸ëž¨ì˜ ë™ìž‘ì´ ì˜ë„í•œ ëŒ€ë¡œ ë³´ìž¥ë˜ëŠ” ê²ƒ.
- ì¦‰, ë™ì‹œ ì‹¤í–‰ í™˜ê²½ì—ì„œë„ **ë°ì´í„°ì˜ ë¬´ê²°ì„±Â·ì¼ê´€ì„±**ì´ ìœ ì§€ë˜ëŠ” ìƒíƒœ.

---

## **2. Thread Safeë¥¼ ë³´ìž¥í•˜ëŠ” ë°©ë²•**

- **ë½(Lock)** ê¸°ë°˜ ë™ê¸°í™”
    - ë®¤í…ìŠ¤(Mutex), ì„¸ë§ˆí¬ì–´(Semaphore), ëª¨ë‹ˆí„°(Monitor)
    - ë™ì‹œì— í•œ ìŠ¤ë ˆë“œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•¨.
- **ì›ìžì  ì—°ì‚°(Atomic Operation)**
    - CPUê°€ ì¤‘ê°„ì— ë¼ì–´ë“¤ ìˆ˜ ì—†ëŠ” ë‹¨ì¼ ì—°ì‚°.
- **ë¶ˆë³€ ê°ì²´(Immutable Object)**
    - ìƒíƒœ ë³€ê²½ì´ ì—†ìœ¼ë¯€ë¡œ ë™ê¸°í™” ë¶ˆí•„ìš”.
- **ìŠ¤ë ˆë“œ ë¡œì»¬ ì €ìž¥ì†Œ(Thread-Local Storage)**
    - ê° ìŠ¤ë ˆë“œë§ˆë‹¤ ë…ë¦½ì ì¸ ë°ì´í„° ë³µì‚¬ë³¸ì„ ì œê³µ.
- **Lock-Free / Wait-Free ì•Œê³ ë¦¬ì¦˜**
    - CAS(Compare-And-Swap) ë“±ìœ¼ë¡œ ê²½ìŸ ì—†ì´ ë™ì‹œì„± ë³´ìž¥.

---

## **3. Peterson's Algorithm**

- **ì •ì˜**: ë‘ ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ìƒí˜¸ ë°°ì œë¥¼ ë³´ìž¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê³ ì „ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜.
- **ì›ë¦¬**
    1. `flag[]`: ê° í”„ë¡œì„¸ìŠ¤ì˜ ì§„ìž… ì˜ì‚¬ í‘œì‹œ.
    2. `turn`: ëˆ„ê°€ ë¨¼ì € ë“¤ì–´ê°ˆì§€ ì§€ì •.
    3. ì§„ìž…í•˜ë ¤ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” flag ì„¤ì • â†’ turn ìƒëŒ€ë°©ìœ¼ë¡œ ì„¤ì • â†’ ìƒëŒ€ë°© flagì™€ turn í™•ì¸ í›„ ì§„ìž….
- **í•œê³„**
    - ì˜¤ì§ **ë‘ í”„ë¡œì„¸ìŠ¤**ë§Œ ê°€ëŠ¥.
    - í˜„ëŒ€ CPUì˜ **ë©”ëª¨ë¦¬ ìž¬ì •ë ¬(Memory Reordering)**ì´ë‚˜ ìºì‹œ ì¼ê´€ì„± ë¬¸ì œë¡œ í•˜ë“œì›¨ì–´ ì§€ì› ì—†ì´ ë³´ìž¥ ì–´ë ¤ì›€.
    - ë‹¤ì¤‘ ì½”ì–´ í™˜ê²½ì—ì„œ ë¹„íš¨ìœ¨ì .

---

## **4. Race Condition**

- **ì •ì˜**: ë‘˜ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ê³µìœ  ìžì›ì— ë™ì‹œì— ì ‘ê·¼Â·ë³€ê²½í•˜ë ¤ í•  ë•Œ, ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ìƒí™©.
- **ê²°ê³¼**: ë°ì´í„° ë¶ˆì¼ì¹˜, ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë²„ê·¸.

---

## **5. Thread Safe êµ¬í˜„ ì‹œ ë½ì´ í•„ìˆ˜ì¸ê°€?**

- **ì•„ë‹˜.**
- ë½ ì™¸ì—ë„ ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œ ê°€ëŠ¥:
    - **ì›ìžì  ì—°ì‚°** (CPUì˜ Atomic Instruction)
    - **ë¶ˆë³€ ê°ì²´** (ìƒíƒœ ë³€ê²½ ìžì²´ ì œê±°)
    - **í•¨ìˆ˜í˜• í”„ë¡œê·¸ëž˜ë°** (Stateless êµ¬ì¡°)
    - **Lock-Free / Wait-Free ì•Œê³ ë¦¬ì¦˜**
    - **ë©”ì‹œì§€ íŒ¨ì‹±(Message Passing)** êµ¬ì¡° (Actor Model ë“±)

---

ðŸ“Œ**ì •ë¦¬**

- Thread Safe = ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „.
- ë°©ë²• = ë½, ì›ìž ì—°ì‚°, ë¶ˆë³€ì„±, ìŠ¤ë ˆë“œ ë¡œì»¬, Lock-Free ë“±.
- Petersonâ€™s = 2í”„ë¡œì„¸ìŠ¤ ì „ìš© SW ê¸°ë°˜ ìƒí˜¸ ë°°ì œ, í˜„ëŒ€ HW í™˜ê²½ì—ì„  ì‹¤ìš©ì„± ë–¨ì–´ì§.
- Race Condition = ì‹¤í–‰ ìˆœì„œ ì˜ì¡´ â†’ ì˜ˆì¸¡ ë¶ˆê°€ ê²°ê³¼.
- ë½ì´ ì—†ì–´ë„ Thread Safe ê°€ëŠ¥ â†’ ì›ìž ì—°ì‚°Â·ë¶ˆë³€ ê°ì²´Â·ë©”ì‹œì§€ íŒ¨ì‹± ë“± ì‚¬ìš©.

# ë©´ì ‘ ëŒ€ë‹µ

## **1. Thread Safeëž€?**

> "ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ê°™ì€ ìžì›ì— ì ‘ê·¼í•´ë„ ë°ì´í„°ì˜ ì¼ê´€ì„±ê³¼ ë¬´ê²°ì„±ì´ ìœ ì§€ë˜ëŠ” ìƒíƒœë¥¼ ë§í•©ë‹ˆë‹¤."
> 

---

## **2. Thread Safe ë³´ìž¥ ë°©ë²•**

> "ë®¤í…ìŠ¤, ì„¸ë§ˆí¬ì–´ ê°™ì€ ë½ì„ ì“°ê±°ë‚˜, ì›ìžì  ì—°ì‚°, ë¶ˆë³€ ê°ì²´, ìŠ¤ë ˆë“œ ë¡œì»¬ ì €ìž¥ì†Œ, Lock-Free ì•Œê³ ë¦¬ì¦˜ ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."
> 

---

## **3. Peterson's Algorithmê³¼ í•œê³„**

> "ë‘ í”„ë¡œì„¸ìŠ¤ ê°„ ìƒí˜¸ ë°°ì œë¥¼ ë³´ìž¥í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, flagì™€ turn ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ë‘ í”„ë¡œì„¸ìŠ¤ë§Œ ê°€ëŠ¥í•˜ê³ , í˜„ëŒ€ CPUì˜ ë©”ëª¨ë¦¬ ìž¬ì •ë ¬ê³¼ ìºì‹œ ì¼ê´€ì„± ë¬¸ì œë¡œ ì‹¤ë¬´ì—ì„œ ìž˜ ì“°ì´ì§€ ì•ŠìŠµë‹ˆë‹¤."
> 

---

## **4. Race Conditionì´ëž€?**

> "ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ê³µìœ  ìžì›ì— ë™ì‹œì— ì ‘ê·¼í•´ ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ìƒí™©ìž…ë‹ˆë‹¤."
> 

---

## **5. ë½ ì—†ì´ Thread Safe êµ¬í˜„ ê°€ëŠ¥ ì—¬ë¶€**

> "ê°€ëŠ¥í•©ë‹ˆë‹¤. ì›ìžì  ì—°ì‚°, ë¶ˆë³€ ê°ì²´, í•¨ìˆ˜í˜• êµ¬ì¡°, Lock-Free ì•Œê³ ë¦¬ì¦˜, ë©”ì‹œì§€ íŒ¨ì‹± ë“±ì„ í™œìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."
>
